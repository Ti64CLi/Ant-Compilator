func SearchFood() {

    do {
        do {
            call FoeIsHere;
        }
        if (
            is(FoeMarker, here)
        )
    }
    if (
        eq(randint(20),0)
    )

    mark(0);

    test(food) in {
        case ahead :
            nop;
        case left :
            turn(5);
        case right :
            turn(1);
    }

    if (
        is(friend,ahead)
    )
    then {
        turn(1);
        move(1);
        turn(5);
        move(1);
        turn(1);
    }
    else {
        move(1);
    }
    pickup(SearchFood);
    turn(3;)
    call BackFood;

    test(randint(3)) in {
        case 1 : {
            turn(5);
        }
        case 2 : {
            turn(1);
        }
        move(1);
    }
};

func BackFood {
    do {
        drop();
        turn(3);
        call SearchFood;
    }
    if (
        is(home,here)
    )
    test (bit(1)) in {
        case ahead : {
            nop;
        }
        case right : {
            turn(1);
        }
        case left : {
            turn(5);
        }
    } 
    move(1);
}