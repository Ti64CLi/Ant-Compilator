open CodeMap

type expression =
	| Expr of expression Span.located
	| Var of string Span.located
	| Move
	| Turn of int Span.located
	| PickUp of string Span.located
	| Drop
	| Label of string Span.located
	| Goto of string Span.located
	| Mark of int Span.located
	| Unmark of int Span.located
	| If of condition Span.located * direction Span.located * expression Span.located * expression Span.located
	| Flip of int Span.located * Func Span.located * Func Span.located
	| Func of string Span.located Expr Span.located
	| Look of direction Span.located * cond Span.located * expression Span.located
	| While of cond Span.located string Span.located
	| For of string Span.located * expression Span.located
	
and instruction =
	|

and direction =
	| Ahead
	| Left
	| Right
	| Here

and program =
	| Program of command Span.located list

and cond =
	| Or of expresion Span.located * expression Span.located
	| And expresion Span.located * expression Span.located
	| Friend
	| Foe
	| FriendWithFood
	| FoeWithFood
	| Food
	| Rock
	| Marker of int
	| FoeMarker
	| Home
	| FoeHome
